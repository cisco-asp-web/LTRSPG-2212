# Containerlab topology file for Cisco Live EU 2026 Lab 1

name: cleu26

mgmt:
  network: mgt-network
  ipv4-subnet: 172.20.6.0/24
  
topology:
  nodes:
    xrd01:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd01.cfg
      mgmt-ipv4: 172.20.6.101
      
    xrd02:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd02.cfg
      mgmt-ipv4: 172.20.6.102

    xrd03:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd03.cfg
      mgmt-ipv4: 172.20.6.103

    xrd04:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd04.cfg
      mgmt-ipv4: 172.20.6.104

    xrd05:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd05.cfg
      mgmt-ipv4: 172.20.6.105

    xrd06:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd06.cfg
      mgmt-ipv4: 172.20.6.106

    xrd07:
      kind: cisco_xrd
      image: cisco-xrd-control-plane:24.4.1
      startup-config: xrd-config/xrd07.cfg
      mgmt-ipv4: 172.20.6.107

    rome00:
      kind: linux
      image: cl-rome:latest
      mgmt-ipv4: 172.20.6.109
      exec:
        - sh /usr/local/bin/network-config.sh

    rome01:
      kind: linux
      image: cl-rome:latest
      mgmt-ipv4: 172.20.6.110
      exec:
        - sh /usr/local/bin/network-config.sh

# Berlin DC SONiC nodes
    leaf00:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.128

    leaf01:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.129

    leaf02:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.130

    leaf03:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.131

    spine00:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.192

    spine01:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.193

    spine02:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.194

    spine03:
      kind: linux
      image: vrnetlab/sonic_sonic-vs:vpp20250422
      mgmt-ipv4: 172.20.6.195

    berlin1-fe:
      kind: bridge
    berlin2-fe:
      kind: bridge
    berlin3-fe:
      kind: bridge
    berlin4-fe:
      kind: bridge

  links:

    # Link between XR Routers
    - endpoints: ["xrd01:Gi0-0-0-0", "amsterdam:eth1"]
    - endpoints: ["xrd01:Gi0-0-0-1", "xrd02:Gi0-0-0-0"]      
    - endpoints: ["xrd01:Gi0-0-0-2", "xrd05:Gi0-0-0-0"]
    - endpoints: ["xrd01:Gi0-0-0-3", "amsterdam:eth2"]
    - endpoints: ["xrd02:Gi0-0-0-1", "xrd03:Gi0-0-0-0"]
    - endpoints: ["xrd02:Gi0-0-0-2", "xrd06:Gi0-0-0-1"]
    - endpoints: ["xrd02:Gi0-0-0-3", "berlin1-fe:xrd02-Gi0-0-0-3"]
    - endpoints: ["xrd02:Gi0-0-0-4", "berlin2-fe:xrd02-Gi0-0-0-4"]
    - endpoints: ["xrd03:Gi0-0-0-1", "xrd04:Gi0-0-0-0"]
    - endpoints: ["xrd03:Gi0-0-0-2", "berlin3-fe:xrd03-Gi0-0-0-2"]
    - endpoints: ["xrd03:Gi0-0-0-3", "berlin4-fe:xrd03-Gi0-0-0-3"]
    - endpoints: ["xrd04:Gi0-0-0-1", "xrd07:Gi0-0-0-1"]
    - endpoints: ["xrd05:Gi0-0-0-1", "xrd04:Gi0-0-0-2"]
    - endpoints: ["xrd05:Gi0-0-0-2", "xrd06:Gi0-0-0-2"]
    - endpoints: ["xrd06:Gi0-0-0-0", "xrd07:Gi0-0-0-2"]
    - endpoints: ["xrd07:Gi0-0-0-0", "rome:eth1"]
    - endpoints: ["xrd07:Gi0-0-0-3", "rome:eth2"]



